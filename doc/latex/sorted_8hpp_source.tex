\hypertarget{sorted_8hpp_source}{}\doxysection{sorted.\+hpp}
\label{sorted_8hpp_source}\index{/home/joao/Shared/PHD/code/ros/src/storage/include/storage/sorted.hpp@{/home/joao/Shared/PHD/code/ros/src/storage/include/storage/sorted.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef SORTED\_LIBRARY\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define SORTED\_LIBRARY\_HPP}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{7 \textcolor{keyword}{namespace }std\{}
\DoxyCodeLine{9 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{10 \textcolor{keyword}{class }\mbox{\hyperlink{classstd_1_1sorted_library}{sortedLibrary}} \{}
\DoxyCodeLine{11 \textcolor{keyword}{public}:}
\DoxyCodeLine{12     \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} id\_type;}
\DoxyCodeLine{13     \textcolor{keyword}{typedef} T value\_type;}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     \mbox{\hyperlink{classstd_1_1sorted_library}{sortedLibrary}}();}
\DoxyCodeLine{16     \mbox{\hyperlink{classstd_1_1sorted_library}{sortedLibrary}}(\textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{17     \mbox{\hyperlink{classstd_1_1sorted_library}{sortedLibrary}}(\textcolor{keywordtype}{size\_t} size, \textcolor{keyword}{const} T\& val);}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{keywordtype}{void} setMaxCapacity(\textcolor{keywordtype}{size\_t} max\_elements);}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{keywordtype}{size\_t} size() \textcolor{keyword}{const};}
\DoxyCodeLine{22     \textcolor{keywordtype}{size\_t} pos(id\_type \textcolor{keywordtype}{id}) \textcolor{keyword}{const};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     T\& operator[](\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classstd_1_1indexer}{index}});}
\DoxyCodeLine{25     \textcolor{keyword}{const} T\& operator[](\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classstd_1_1indexer}{index}}) \textcolor{keyword}{const};}
\DoxyCodeLine{26     T\& operator()(id\_type \mbox{\hyperlink{classstd_1_1indexer}{index}});}
\DoxyCodeLine{27     \textcolor{keyword}{const} T\& operator()(id\_type \mbox{\hyperlink{classstd_1_1indexer}{index}}) \textcolor{keyword}{const};}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} push(\textcolor{keyword}{const} T\& entry);}
\DoxyCodeLine{30     \textcolor{keywordtype}{void} del(\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classstd_1_1indexer}{index}});}
\DoxyCodeLine{31     \textcolor{keywordtype}{void} del(id\_type \textcolor{keywordtype}{id});}
\DoxyCodeLine{32     \textcolor{keywordtype}{void} pop();}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \textcolor{keyword}{typename} vector<T>::iterator begin();}
\DoxyCodeLine{35     \textcolor{keyword}{typename} vector<T>::iterator end();}
\DoxyCodeLine{36 \textcolor{keyword}{protected}:}
\DoxyCodeLine{37     vector<T> library;}
\DoxyCodeLine{38 \};}
\DoxyCodeLine{40 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{41 \mbox{\hyperlink{classstd_1_1sorted_library}{sortedLibrary<T>::sortedLibrary}}() \{}
\DoxyCodeLine{42     \textcolor{comment}{// should check if }}
\DoxyCodeLine{43     library = vector<T> (0);}
\DoxyCodeLine{44     library.reserve(100);}
\DoxyCodeLine{45 \};}
\DoxyCodeLine{46 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{47 sortedLibrary<T>::sortedLibrary(\textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{48     \textcolor{comment}{// should check if }}
\DoxyCodeLine{49     library = std::vector<T> (size);}
\DoxyCodeLine{50     library.reserve(100);}
\DoxyCodeLine{51 \};}
\DoxyCodeLine{52 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{53 sortedLibrary<T>::sortedLibrary(\textcolor{keywordtype}{size\_t} size, \textcolor{keyword}{const} T\& val) \{}
\DoxyCodeLine{54     \textcolor{comment}{// should check if }}
\DoxyCodeLine{55     library = std::vector<T> (size,val);}
\DoxyCodeLine{56     library.reserve(100);}
\DoxyCodeLine{57 \};}
\DoxyCodeLine{58 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{59 \textcolor{keywordtype}{void} sortedLibrary<T>::setMaxCapacity(\textcolor{keywordtype}{size\_t} max\_elements) \{}
\DoxyCodeLine{60     library.reserve(max\_elements);}
\DoxyCodeLine{61 \};}
\DoxyCodeLine{62 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{63 \textcolor{keywordtype}{size\_t} sortedLibrary<T>::size()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{64     \textcolor{keywordflow}{return} library.size();}
\DoxyCodeLine{65 \}}
\DoxyCodeLine{66 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{67 \textcolor{keywordtype}{size\_t} sortedLibrary<T>::pos(id\_type \textcolor{keywordtype}{id})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{68     \textcolor{keywordflow}{if} (library.size()>0) \{}
\DoxyCodeLine{69         \textcolor{keywordtype}{int} pos = 0;}
\DoxyCodeLine{70         \textcolor{keywordflow}{while} (library[pos].\textcolor{keywordtype}{id}()<\textcolor{keywordtype}{id} \&\& pos<library.size()) pos++;}
\DoxyCodeLine{71         \textcolor{keywordflow}{if} (pos<library.size() \&\& library[pos].id()==\textcolor{keywordtype}{id}) \textcolor{keywordflow}{return} pos;}
\DoxyCodeLine{72         \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} library.size(); \textcolor{comment}{//not found on library}}
\DoxyCodeLine{73     \}}
\DoxyCodeLine{74 \};}
\DoxyCodeLine{75 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{76 T\& sortedLibrary<T>::operator[](\textcolor{keywordtype}{size\_t} index) \{}
\DoxyCodeLine{77     assert (index < library.size());}
\DoxyCodeLine{78     \textcolor{keywordflow}{return} library[\mbox{\hyperlink{indexer_8hpp_a560b478532185401adead77a6d5d8350}{index}}];}
\DoxyCodeLine{79 \}}
\DoxyCodeLine{80 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{81 \textcolor{keyword}{const} T\& sortedLibrary<T>::operator[](\textcolor{keywordtype}{size\_t} index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{82     assert (index < library.size());}
\DoxyCodeLine{83     \textcolor{keywordflow}{return} library[\mbox{\hyperlink{indexer_8hpp_a560b478532185401adead77a6d5d8350}{index}}];}
\DoxyCodeLine{84 \}}
\DoxyCodeLine{85 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{86 T\& sortedLibrary<T>::operator()(id\_type \textcolor{keywordtype}{id}) \{}
\DoxyCodeLine{87     \textcolor{keywordtype}{size\_t} p = pos(\textcolor{keywordtype}{id});}
\DoxyCodeLine{88     assert (p < library.size());}
\DoxyCodeLine{89     \textcolor{keywordflow}{return} library[p];}
\DoxyCodeLine{90 \}}
\DoxyCodeLine{91 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{92 \textcolor{keyword}{const} T\& sortedLibrary<T>::operator()(id\_type \textcolor{keywordtype}{id})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{93     \textcolor{keywordtype}{size\_t} p = pos(\textcolor{keywordtype}{id});}
\DoxyCodeLine{94     assert (p < library.size());}
\DoxyCodeLine{95     \textcolor{keywordflow}{return} library[p];}
\DoxyCodeLine{96 \}}
\DoxyCodeLine{97 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{98 \textcolor{keywordtype}{void} sortedLibrary<T>::push(\textcolor{keyword}{const} T\& entry)\{}
\DoxyCodeLine{99     assert(library.size()+1 < library.capacity());}
\DoxyCodeLine{100     \textcolor{keywordflow}{if} (library.size()>0) \{}
\DoxyCodeLine{101         \textcolor{keywordtype}{int} pos = 0;}
\DoxyCodeLine{102         \textcolor{keywordflow}{while} (library[pos].\textcolor{keywordtype}{id}()<entry.id() \&\& pos<library.size()-\/1) pos++;}
\DoxyCodeLine{103         library.insert(library.begin()+pos,entry);}
\DoxyCodeLine{104     \} \textcolor{keywordflow}{else} library.push\_back(entry);}
\DoxyCodeLine{105 \};}
\DoxyCodeLine{106 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{107 \textcolor{keywordtype}{void} sortedLibrary<T>::del(\textcolor{keywordtype}{size\_t} index)\{}
\DoxyCodeLine{108     assert(index < library.size());}
\DoxyCodeLine{109     library.erase(library.begin()+index);}
\DoxyCodeLine{110 \};}
\DoxyCodeLine{111 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{112 \textcolor{keywordtype}{void} sortedLibrary<T>::del(id\_type \textcolor{keywordtype}{id})\{}
\DoxyCodeLine{113     \textcolor{keywordtype}{size\_t} p = pos(\textcolor{keywordtype}{id});}
\DoxyCodeLine{114     \textcolor{keywordflow}{if} (p<library.size()) library.erase(library.begin()+p);}
\DoxyCodeLine{115 \};}
\DoxyCodeLine{116 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{117 \textcolor{keywordtype}{void} sortedLibrary<T>::pop()\{}
\DoxyCodeLine{118     library.pop\_back();}
\DoxyCodeLine{119 \};}
\DoxyCodeLine{120 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{121 \textcolor{keyword}{typename} std::vector<T>::iterator sortedLibrary<T>::begin() \{}
\DoxyCodeLine{122     \textcolor{keywordflow}{return} library.begin();}
\DoxyCodeLine{123 \};}
\DoxyCodeLine{124 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{125 \textcolor{keyword}{typename} std::vector<T>::iterator sortedLibrary<T>::end() \{}
\DoxyCodeLine{126     \textcolor{keywordflow}{return} library.end();}
\DoxyCodeLine{127 \};}
\DoxyCodeLine{129 \}; \textcolor{comment}{// std}}
\DoxyCodeLine{131 \textcolor{comment}{}\textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
